<div class="container-fluid">
  <div *ngIf="loading" class="loader-container">
    <img src="assets/static/images/global-loader.gif" alt="Loader">
  </div>
  <div class="jumbotron">
    <img src="assets/static/images/logo.png" height="300px" class="d-inline-block align-center" alt="">
    <h1 class="display-4">Edit Fitness Profile</h1>

    <div class="container">
      <div class="row">
        <div class="col-lg-10 col-xl-9 mx-auto">
          <div class="card card-signin flex-row my-5"
               [ngClass]="{'female-fitness-profile': userGender === 'female', 'male-fitness-profile': userGender==='male'}">
            <div class="card-img-left d-none d-md-flex">
            </div>
            <div class="card-body text-center">
              <h5 class="card-title text-center">Fitness Profile</h5>
              <form class="form-signin" (change)="onFormChange()" #fitnessProfileForm="ngForm">

                <div class="form-label-group">
                  <label for="inputWeight">Weight in KG</label>
                  <input type="number" id="inputWeight" name="inputWeight" #inputWeight="ngModel"
                         class="form-control" placeholder="Enter your weight in KG"
                         required
                         pattern="^[1-9][0-9]*"
                         min="1"
                         [ngClass]="{'is-valid': inputWeight.valid && inputWeight.touched,
                         'is-invalid': inputWeight.invalid && inputWeight.touched}"
                         [(ngModel)]="fitnessProfileBindingModel.weight">
                  <div class="valid-feedback"></div>
                  <div class="invalid-feedback">
                    Weight should be a positive number.
                  </div>
                </div>

                <div class="form-label-group">
                  <label for="inputHeight">Height in CM</label>
                  <input type="number" id="inputHeight" name="inputHeight" #inputHeight="ngModel"
                         class="form-control" placeholder="Enter your height in CM"
                         min="1"
                         required
                         pattern="^[1-9][0-9]*"
                         min="1"
                         [ngClass]="{'is-valid': inputHeight.valid && inputHeight.touched,
                         'is-invalid': inputHeight.invalid && inputHeight.touched}"
                         [(ngModel)]="fitnessProfileBindingModel.height">
                  <div class="valid-feedback"></div>
                  <div class="invalid-feedback">
                    Height should be a positive number.
                  </div>
                </div>

                <div class="form-label-group">
                  <label for="inputAge">Age</label>
                  <input type="number" id="inputAge" name="inputAge" #inputAge="ngModel"
                         class="form-control" placeholder="Enter your age"
                         min="1"
                         required
                         pattern="^[1-9][0-9]*"
                         min="1"
                         [ngClass]="{'is-valid': inputAge.valid && inputAge.touched,
                         'is-invalid': inputAge.invalid && inputAge.touched}"
                         [(ngModel)]="fitnessProfileBindingModel.age">
                  <div class="valid-feedback"></div>
                  <div class="invalid-feedback">
                    Age should be a positive number.
                  </div>
                </div>

                <div class="form-label-group">
                  <label for="inputExperience">Sports Experience</label>
                  <select class="custom-select form-control" id="inputExperience" #inputExperience="ngModel"
                          name="inputExperience" required
                          [ngClass]="{'is-valid': inputExperience.valid && inputExperience.touched,
                         'is-invalid': inputExperience.invalid && inputExperience.touched}"
                          [(ngModel)]="fitnessProfileBindingModel.sportsExperience">
                    <option value="beginner">Beginner</option>
                    <option value="intermediate">Intermediate</option>
                    <option value="advanced">Advanced</option>
                  </select>
                  <div class="valid-feedback"></div>
                  <div class="invalid-feedback">
                    Sports Experience is required.
                  </div>
                </div>

                <div class="form-label-group">
                  <label for="inputActivity">Level of Daily Activity</label>
                  <select class="custom-select form-control" id="inputActivity" #activityLevel="ngModel"
                          name="inputActivity" required
                          [ngClass]="{'is-valid': activityLevel.valid && activityLevel.touched,
                         'is-invalid': activityLevel.invalid && activityLevel.touched}"
                          [(ngModel)]="fitnessProfileBindingModel.activityLevel">
                    <option value="little">Desk job, Little to no exercise</option>
                    <option value="light">Light exercise (1–3 days per week)</option>
                    <option value="moderate">Moderate exercise (3–5 days per week)</option>
                    <option value="heavy">Heavy exercise (6–7 days per week)</option>
                    <option value="veryHeavy">Very heavy exercise (physical job and heavy
                      workouts)
                    </option>
                  </select>
                  <div class="valid-feedback"></div>
                  <div class="invalid-feedback">
                    Level of Daily Activity is required.
                  </div>
                </div>

                <div class="form-label-group">
                  <label for="inputWeightGoal">Weight Goal</label>
                  <select class="custom-select form-control" id="inputWeightGoal" #weightGoal="ngModel"
                          name="inputWeightGoal" required
                          [ngClass]="{'is-valid': weightGoal.valid && weightGoal.touched,
                         'is-invalid': weightGoal.invalid && weightGoal.touched}"
                          [(ngModel)]="fitnessProfileBindingModel.weightGoal"
                          (change)="onWeightGoalChange($event.target)">
                    <option value="maintainWeight">To maintain your weight</option>
                    <option value="loseWeight">To lose weight</option>
                    <option value="gainWeight">To gain weight</option>
                  </select>
                  <div class="valid-feedback"></div>
                  <div class="invalid-feedback">
                    Weight Goal is required.
                  </div>
                </div>

                <div class="form-label-group">
                  <label for="inputLostGainedWeight">Weight Change Rate</label>
                  <select class="custom-select form-control" id="inputLostGainedWeight" #weightChangeRate="ngModel"
                          name="inputLostGainedWeight"
                          [required]="fitnessProfileBindingModel.weightGoal !=='maintainWeight'"
                          [disabled]="fitnessProfileBindingModel.weightGoal==='maintainWeight'"
                          [ngClass]="{'is-valid': weightChangeRate.valid && weightChangeRate.touched,
                         'is-invalid': weightChangeRate.invalid && weightChangeRate.touched}"
                          [(ngModel)]="fitnessProfileBindingModel.weightChangeRate">
                    <option *ngIf="fitnessProfileBindingModel.weightGoal === 'maintainWeight' " value="none">None
                    </option>
                    <option value="slow">Slow (0.250 KG per Week)</option>
                    <option value="moderate">Moderate (0.500 KG per Week)</option>
                    <option value="rapid">Rapid (1 KG per Week)</option>
                  </select>
                  <div class="valid-feedback"></div>
                  <div class="invalid-feedback">
                    Weight Change Rate is required.
                  </div>
                </div>


                <hr>

                <button class="btn btn-lg btn-secondary btn-block text-uppercase"
                        type="submit" (click)="onSubmit()" [disabled]="fitnessProfileForm.invalid">Save
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>
